{"uid":"b865542e64d10c0e","name":"Validate Council Output -- @1.43 Testing : ValeofGlamorganCouncil","fullName":"Test each council output matches expected results in /outputs: Validate Council Output","historyId":"4e7fa2151302c16b342281342820e540","time":{"start":1676925349168,"stop":1676925480990,"duration":131822},"status":"broken","statusMessage":"requests.exceptions.ConnectionError: HTTPSConnectionPool(host='myvale.valeofglamorgan.gov.uk', port=443): Max retries exceeded with url: /getdata.aspx?RequestType=LocalInfo&ms=ValeOfGlamorgan%2FAllMaps&group=Community+and+Living%7CRefuse+HIDE2&type=json&callback=AddressInfoCallback&uid=64029020&import=jQuery35108514154283927682_1673022974838&_=1673022974840 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fbf1807f5e0>: Failed to establish a new connection: [Errno 110] Connection timed out'))\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 34, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 63, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 55, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/ValeofGlamorganCouncil.py\", line 49, in parse_data\n    response = requests.get('https://myvale.valeofglamorgan.gov.uk/getdata.aspx', params=params,\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/api.py\", line 73, in get\n    return request(\"get\", url, params=params, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/api.py\", line 59, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/sessions.py\", line 587, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/sessions.py\", line 701, in send\n    r = adapter.send(request, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/adapters.py\", line 565, in send\n    raise ConnectionError(e, request=request)\n","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"requests.exceptions.ConnectionError: HTTPSConnectionPool(host='myvale.valeofglamorgan.gov.uk', port=443): Max retries exceeded with url: /getdata.aspx?RequestType=LocalInfo&ms=ValeOfGlamorgan%2FAllMaps&group=Community+and+Living%7CRefuse+HIDE2&type=json&callback=AddressInfoCallback&uid=64029020&import=jQuery35108514154283927682_1673022974838&_=1673022974840 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fbf1807f5e0>: Failed to establish a new connection: [Errno 110] Connection timed out'))\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 34, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 63, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 55, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/ValeofGlamorganCouncil.py\", line 49, in parse_data\n    response = requests.get('https://myvale.valeofglamorgan.gov.uk/getdata.aspx', params=params,\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/api.py\", line 73, in get\n    return request(\"get\", url, params=params, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/api.py\", line 59, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/sessions.py\", line 587, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/sessions.py\", line 701, in send\n    r = adapter.send(request, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/adapters.py\", line 565, in send\n    raise ConnectionError(e, request=request)\n","steps":[{"name":"Given the council: \"ValeofGlamorganCouncil\"","time":{"start":1676925349168,"stop":1676925349169,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When we scrape the data from \"ValeofGlamorganCouncil\"","time":{"start":1676925349169,"stop":1676925480989,"duration":131820},"status":"broken","statusMessage":"requests.exceptions.ConnectionError: HTTPSConnectionPool(host='myvale.valeofglamorgan.gov.uk', port=443): Max retries exceeded with url: /getdata.aspx?RequestType=LocalInfo&ms=ValeOfGlamorgan%2FAllMaps&group=Community+and+Living%7CRefuse+HIDE2&type=json&callback=AddressInfoCallback&uid=64029020&import=jQuery35108514154283927682_1673022974838&_=1673022974840 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fbf1807f5e0>: Failed to establish a new connection: [Errno 110] Connection timed out'))\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 34, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 63, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 55, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/ValeofGlamorganCouncil.py\", line 49, in parse_data\n    response = requests.get('https://myvale.valeofglamorgan.gov.uk/getdata.aspx', params=params,\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/api.py\", line 73, in get\n    return request(\"get\", url, params=params, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/api.py\", line 59, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/sessions.py\", line 587, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/sessions.py\", line 701, in send\n    r = adapter.send(request, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.8/lib/python3.8/site-packages/requests/adapters.py\", line 565, in send\n    raise ConnectionError(e, request=request)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true},{"name":"Then the result is valid json","time":{"start":1676925480990,"stop":1676925480990,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And the output should validate against the schema","time":{"start":1676925480990,"stop":1676925480990,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"feature","value":"Test each council output matches expected results in /outputs"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"ValeofGlamorganCouncil"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":8,"unknown":0,"total":12},"items":[{"uid":"b88310b11abb03eb","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/475//#testresult/b88310b11abb03eb","status":"passed","time":{"start":1676925433305,"stop":1676925437088,"duration":3783}},{"uid":"34485e71915021d7","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/473//#testresult/34485e71915021d7","status":"passed","time":{"start":1676920193647,"stop":1676920197997,"duration":4350}},{"uid":"e12e9db6bf4aeca","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/472//#testresult/e12e9db6bf4aeca","status":"passed","time":{"start":1676920048435,"stop":1676920051416,"duration":2981}},{"uid":"7e68d5b883dc5975","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/471//#testresult/7e68d5b883dc5975","status":"passed","time":{"start":1676918596305,"stop":1676918600802,"duration":4497}},{"uid":"33cceba8784e2acc","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/469//#testresult/33cceba8784e2acc","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPSConnectionPool(host='myvale.valeofglamorgan.gov.uk', port=443): Max retries exceeded with url: /getdata.aspx?RequestType=LocalInfo&ms=ValeOfGlamorgan%2FAllMaps&group=Community+and+Living%7CRefuse+HIDE2&type=json&callback=AddressInfoCallback&uid=64029020&import=jQuery35108514154283927682_1673022974838&_=1673022974840 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f9103aa4310>: Failed to establish a new connection: [Errno 110] Connection timed out'))\n","time":{"start":1676917412230,"stop":1676917542508,"duration":130278}},{"uid":"54bc34e6927df40e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/468//#testresult/54bc34e6927df40e","status":"passed","time":{"start":1676889813931,"stop":1676889817551,"duration":3620}},{"uid":"efe3b62430f974e1","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/466//#testresult/efe3b62430f974e1","status":"passed","time":{"start":1676882136637,"stop":1676882139985,"duration":3348}},{"uid":"c688acc21778f894","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/465//#testresult/c688acc21778f894","status":"broken","statusDetails":"TypeError: 'builtin_function_or_method' object is not subscriptable\n","time":{"start":1676880774324,"stop":1676880774326,"duration":2}},{"uid":"881a088f438acc56","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/464//#testresult/881a088f438acc56","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPSConnectionPool(host='myvale.valeofglamorgan.gov.uk', port=443): Max retries exceeded with url: /getdata.aspx?RequestType=LocalInfo&ms=ValeOfGlamorgan%2FAllMaps&group=Community+and+Living%7CRefuse+HIDE2&type=json&callback=AddressInfoCallback&uid=64029020&import=jQuery35108514154283927682_1673022974838&_=1673022974840 (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f8a9d4062e0>: Failed to establish a new connection: [Errno 110] Connection timed out'))\n","time":{"start":1676879271455,"stop":1676879401740,"duration":130285}},{"uid":"f18314c4bddf7e9e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/463//#testresult/f18314c4bddf7e9e","status":"passed","time":{"start":1676877994436,"stop":1676878002036,"duration":7600}},{"uid":"6961b42f66cdaa4a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.8/462//#testresult/6961b42f66cdaa4a","status":"passed","time":{"start":1676874703564,"stop":1676874707996,"duration":4432}}]},"tags":[]},"source":"b865542e64d10c0e.json","parameterValues":["ValeofGlamorganCouncil"]}