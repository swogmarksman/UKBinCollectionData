{"uid":"2a353425575868d3","name":"Validate Council Output -- @1.18 Testing : EastCambridgeshireCouncil","fullName":"Test each council output matches expected results in /outputs: Validate Council Output","historyId":"e57e910055006a2269a568e55ad82960","time":{"start":1677345422040,"stop":1677345423152,"duration":1112},"status":"broken","statusMessage":"TypeError: object of type 'Response' has no len()\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 34, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 67, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 57, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/EastCambridgeshireCouncil.py\", line 16, in parse_data\n    soup = BeautifulSoup(page, features=\"html.parser\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/bs4/__init__.py\", line 313, in __init__\n    elif len(markup) <= 256 and (\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"TypeError: object of type 'Response' has no len()\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 34, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 67, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 57, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/EastCambridgeshireCouncil.py\", line 16, in parse_data\n    soup = BeautifulSoup(page, features=\"html.parser\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/bs4/__init__.py\", line 313, in __init__\n    elif len(markup) <= 256 and (\n","steps":[{"name":"Given the council: \"EastCambridgeshireCouncil\"","time":{"start":1677345422040,"stop":1677345422041,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When we scrape the data from \"EastCambridgeshireCouncil\"","time":{"start":1677345422041,"stop":1677345423151,"duration":1110},"status":"broken","statusMessage":"TypeError: object of type 'Response' has no len()\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"uk_bin_collection/tests/features/steps/validate_council.py\", line 34, in step_impl\n    context.parse_result = collect_data.main(args)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 67, in main\n    return client_code(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/collect_data.py\", line 23, in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/get_bin_data.py\", line 57, in template_method\n    bin_data_dict = self.parse_data(\n  File \"/home/runner/work/UKBinCollectionData/UKBinCollectionData/uk_bin_collection/uk_bin_collection/councils/EastCambridgeshireCouncil.py\", line 16, in parse_data\n    soup = BeautifulSoup(page, features=\"html.parser\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.9/lib/python3.9/site-packages/bs4/__init__.py\", line 313, in __init__\n    elif len(markup) <= 256 and (\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true},{"name":"Then the result is valid json","time":{"start":1677345423152,"stop":1677345423152,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And the output should validate against the schema","time":{"start":1677345423152,"stop":1677345423152,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"feature","value":"Test each council output matches expected results in /outputs"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"EastCambridgeshireCouncil"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":16,"skipped":0,"passed":0,"unknown":0,"total":16},"items":[{"uid":"20ec96a9ac274272","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/510//#testresult/20ec96a9ac274272","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677312102914,"stop":1677312104130,"duration":1216}},{"uid":"d45666e3f05daa8d","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/508//#testresult/d45666e3f05daa8d","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677311538623,"stop":1677311539951,"duration":1328}},{"uid":"637a287f62f2fb29","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/509//#testresult/637a287f62f2fb29","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677311540730,"stop":1677311542804,"duration":2074}},{"uid":"f761a388203af1e5","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/507//#testresult/f761a388203af1e5","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677309866941,"stop":1677309869124,"duration":2183}},{"uid":"86bb07b4f2fb5e35","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/506//#testresult/86bb07b4f2fb5e35","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677309860852,"stop":1677309862301,"duration":1449}},{"uid":"e4ce00f05106e8c7","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/505//#testresult/e4ce00f05106e8c7","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677308582890,"stop":1677308584118,"duration":1228}},{"uid":"edab5972cb945f8d","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/504//#testresult/edab5972cb945f8d","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677308284941,"stop":1677308286201,"duration":1260}},{"uid":"da579fcbb6ab6b36","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/503//#testresult/da579fcbb6ab6b36","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677289655074,"stop":1677289656424,"duration":1350}},{"uid":"82931d2861c9474f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/499//#testresult/82931d2861c9474f","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677192318487,"stop":1677192340074,"duration":21587}},{"uid":"53e83ab60025fd1c","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/498//#testresult/53e83ab60025fd1c","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677116659368,"stop":1677116660783,"duration":1415}},{"uid":"2b4d125f068e362e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/493//#testresult/2b4d125f068e362e","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677044573698,"stop":1677044575010,"duration":1312}},{"uid":"f1aa48dd08ddaf9f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/490//#testresult/f1aa48dd08ddaf9f","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1677030156349,"stop":1677030157656,"duration":1307}},{"uid":"4dba1559de735","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/488//#testresult/4dba1559de735","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1676969823771,"stop":1676969825500,"duration":1729}},{"uid":"2beb8a3a62b5f589","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/487//#testresult/2beb8a3a62b5f589","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1676969706944,"stop":1676969708551,"duration":1607}},{"uid":"99d6a756c6a0bc62","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.9/484//#testresult/99d6a756c6a0bc62","status":"broken","statusDetails":"TypeError: object of type 'Response' has no len()\n","time":{"start":1676966996378,"stop":1676966998726,"duration":2348}}]},"tags":[]},"source":"2a353425575868d3.json","parameterValues":["EastCambridgeshireCouncil"]}